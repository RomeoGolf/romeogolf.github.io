<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="description" content="Title: Pelican и использование Markdown; Date: 2016-01-27; Summary: <p>Блог на Pelican - 5. Особенности использования языка разметки Markdown при написании статей, страниц и прочего контента для сайта на Pelican. Примеры использования, некоторые особенности, дополнительные возможности.</p>">  
  <meta name="keywords" content="">  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pelican и использование Markdown</title>
  <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="stylesheet" href="../theme/css/styles.css" type="text/css" />
  <link rel="stylesheet" type="text/css"  href="../theme/css/pygments.css"/>
  <link rel="shortcut icon" type="image/png" href="../images/RG32.ico" />
</head>
<body>
  <header class="main-header">
    <div>
      <img src="../images/72.png" style="margin-left: 34px; margin-top: 30px;"> <a id="name" href=.. id="home-link">RomeoGolf</a>
    </div>
  </header>
    <nav class="nav_base">
      <ul class="main-nav">
          <li class="active"><a href="../category/blog.html">Блог</a></li>
          <li><a href="../category/tvorchestvo.html">Творчество</a></li>


          <li>
            <a href="../pages/triangulum-soft.html">Triangulum Soft</a>
          </li>
          <li>
            <a href="../pages/o-saite.html">О сайте</a>
          </li>
      </ul>
    </nav>
  <div class="layout">

    <div class="sidebar">
      <div class="tagcloud">
        Теги:
        <ul class="tagcloud">
          <li class="tag-1">
            <a href="../tag/pelican.html">
              pelican
                <span class="badge">4</span>
            </a>
          </li>
          <li class="tag-4">
            <a href="../tag/rfquiz.html">
              rfquiz
                <span class="badge">1</span>
            </a>
          </li>
          <li class="tag-4">
            <a href="../tag/triangulum.html">
              triangulum
                <span class="badge">1</span>
            </a>
          </li>
          <li class="tag-4">
            <a href="../tag/raznoe.html">
              разное
                <span class="badge">1</span>
            </a>
          </li>
          <li class="tag-4">
            <a href="../tag/stikhi.html">
              стихи
                <span class="badge">1</span>
            </a>
          </li>
        </ul>
      </div> <!-- tagcloud -->
    </div> <!-- sidebar -->

    <div class="content">
  <section class="main-section blog-section" id="blog-posts">
    <h3 class="date">Ср 27 Январь 2016</h3>
    <article>
      <h1>Pelican и использование Markdown</h1>
      
      <h2 id="markdown">Зачем Markdown</h2>
<p>Строго говоря, написанное род этим заголовком существенной частью относится и к reStructuredText, но беглый взгляд на два текста, написанных в этих форматах, лично меня склонил именно к .md, хотя и пришлось ставить дополнительный модуль для Python.</p>
<p>Markdown -- упрощенный (или облегченный) язык разметки. В отличие от, скажем, HTML, который тоже язык разметки, но не упрощенный и не облегченный, Markdown сам по себе практически не используется, а служит промежуточным """буфером" для последующего преобразования в другой язык, который будет отображаться, в нашем случае -- в HTML, но можно и в Rich Text, XML или еще куда-нибудь.</p>
<p>Markdown хорош тем, что с его использованием писать статью существенно быстрее и проще, нежели непосредственно на HTML. В ряде случаев необходимые HTML-теги будут вставлены в сгенерированный текст в соответствии с контекстом (и ничего специально писать не надо), например, абзацы или списки. В других случаях некие пометки добавить все же надо -- например, два пробела в конце строки вместо тега <code>&lt;br&gt;</code> или <code>##</code> перед строкой вместо обрамления ее тегами <code>&lt;h2&gt; .. &lt;/h2&gt;</code>, однако эти символы добавляются проще и быстрее тегов. Их использование нисколько не ухудшает человекочитаемость, ведь строчка из звездочек больше похожа на линию отчеркивания, чем знакосочетание <code>&lt;hr&gt;</code> Кроме того, можно довольно быстро переделать форматированием в Markdown готовый текст, написанный без разметки.</p>
<p>На заметку тем, кто знает HTML, как родной, и предпочитает писать сразу на нем, благо, Pelican это позволяет: еще одно преимущество Markdown, весьма заметное при желании поделиться в тексте примером кода, с красиво (ну, или хоть как-нибудь) подсвеченным синтаксисом -- pygments (который это умеет) работает в связке именно с """буфером", Markdown или reStructuredText. На HTML будет недостаточно окружить код тегами <code>&lt;code&gt; .. &lt;/code&gt;</code>, придется каждый элемент кода, который надо выделить особым образом, окружать соответствующими тегами, типа <code>&lt;span class="n"&gt;href&lt;/span&gt;</code>, а потом писать в CSS-файле способ отображения класса """n". А pygments может сделать все это самостоятельно.</p>
<h2 id="_1">Простые примеры</h2>
<p>Как я уже упоминал в другой статье, описания и примеров этого дела в интернете немало. Но добавлю все же немного и здесь. Основные синтаксические штучки, доступные в пеликане """из коробки", что надо написать, и как это будет выглядеть:</p>
<h3 id="_2">Заголовки</h3>
<p>Статья начинается с заголовка, так что и здесь начнем с них же -- заголовки (количество символов <code>#</code> соответствует числу в теге <code>&lt;h &gt;</code>):
<div markdown="1" class="equi_height">
<div markdown="1"></p>
<div class="highlight"><pre><span class="k"># </span><span class="gh">Заголовок 1</span>
<span class="k">## </span><span class="gh">Заголовок 2</span>
<span class="k">###### </span><span class="gh">Заголовок 6</span>
####### Заголовок 7

<span class="gh">заголовок</span>
<span class="k">=========</span>

<span class="gh">заголовок</span>
<span class="k">---------</span>
</pre></div>


</div>

<div>
<h1 id="1">Заголовок 1</h1>
<h2 id="2">Заголовок 2</h2>
<h6 id="6">Заголовок 6</h6>
<h6 id="7"># Заголовок 7</h6>
<h1 id="_3">заголовок</h1>
<h2 id="_4">заголовок</h2>
</div>
<p></div>
Забавно, что если поставить больше 6 знаков <code>#</code>, то 6 из них воспримутся в качестве уровня заголовка, а остальные войдут в текст заголовка. Остальные будут отображаться в соответствии с таблицами стилей, как задано для <code>&lt;h1&gt;</code>-<code>&lt;h6&gt;</code>. А еще заголовок можно отчеркнуть минусами или знаком равенства, получится второй и первый уровни соответственно, при этом, надо такой заголовок отделить с обеих сторон пустыми строками, как абзац.</p>
<h3 id="_5">Горизонтальные линии</h3>
<p>Линии отчеркивания можно нарисовать звездочками или минусами. Только надо следить, чтобы у них тоже сверху и снизу были пустые строки, а то при обработке их могут принять за часть заголовка или маркированного списка. А вот линия из знаков равенства ничего особенного не делает и рисуется, как есть:
<div markdown="1" class="equi_height">
<div markdown="1"></p>
<div class="highlight"><pre><span class="k">**</span><span class="gs">*</span><span class="k">**</span>*

<span class="k">* * * *</span>

<span class="k">-------</span>

<span class="k">- - - -</span>

=====================
</pre></div>


</div>

<div>
<hr />
<hr />
<hr />
<hr />
<p>=====================</p>
</div>
</div>

<h3 id="_6">Таблицы</h3>
<p>Таблицы можно разметить псевдографикой. Границы по умолчанию не прорисовываются, зЗаголовки по умолчанию центруются, а выравнивание строк в столбце можно отрегулировать двоеточими в разделительной линии ниже заголовка, как в примере:
<div markdown="1" class="equi_height">
<div markdown="1"></p>
<div class="highlight"><pre>| 1 | 2 (правый) | 3 (центр) |
|---|-----------:|:---------:|
| ячейка 1.1 | ячейка 2.1 | ячейка 3.1 
| 1.2 | 2.2 | 3.2 так
| 1.3 | 2.3 с буквами | 3.3 и сяк
</pre></div>


</div>

<div>
<table>
<thead>
<tr>
<th>1</th>
<th align="right">2 (правый)</th>
<th align="center">3 (центр)</th>
</tr>
</thead>
<tbody>
<tr>
<td>ячейка 1.1</td>
<td align="right">ячейка 2.1</td>
<td align="center">ячейка 3.1</td>
</tr>
<tr>
<td>1.2</td>
<td align="right">2.2</td>
<td align="center">3.2 так</td>
</tr>
<tr>
<td>1.3</td>
<td align="right">2.3 с буквами</td>
<td align="center">3.3 и сяк</td>
</tr>
</tbody>
</table>
</div>
</div>

<h3 id="_7">Абзацы и внутристрочные элементы</h3>
<div class="equi_height">
<div markdown="1">

<div class="highlight"><pre><span class="k">&lt;!--</span><span class="c-MultiLine"> Можно использовать комментарии</span>
<span class="c-MultiLine">в стиле HTML, чтобы не показывать </span>
<span class="c-MultiLine">часть текста в обработанной странице </span><span class="k">--&gt;</span>

Пример Footnote[^1] в тексте. Будет
вынесена вниз страницы.
<span class="k">&lt;!--</span><span class="c-MultiLine"> Такие штуки надо размещать сразу же: </span><span class="k">--&gt;</span>
[^1]: Footnote по-русски -- сноска

Словарь
: книга, содержащая перечень слов
с пояснениями и толкованиями

пример аббревиатуры: ИМХО
<span class="k">&lt;!--</span><span class="c-MultiLine"> Такие штуки тоже надо размещать сразу же: </span><span class="k">--&gt;</span>
*[ИМХО]: Имею Мнение -- Хрен Оспоришь

Абзац создается разделением
пустыми строками, 
даже если строки абзаца
имеют простые переносы.

Однако, по два пробела  
на концах строк делают  
перенос строки без абзаца:  
<span class="k">**</span><span class="gs">выделение</span><span class="k">**</span> тегом <span class="k">__</span><span class="gs">strong</span><span class="k">__</span>  
<span class="k">*</span><span class="ge">выделение</span><span class="k">*</span> тегом <span class="k">_</span><span class="ge">emphasize</span><span class="k">_</span>  
<span class="k">**</span><span class="gs">*можно</span><span class="k">**</span>* оба <span class="k">__</span><span class="gs">*сразу*</span><span class="k">__</span>  
внутристрочный <span class="k">`</span><span class="sb">&lt;h1&gt;блок кода&lt;/h1&gt;</span><span class="k">`</span>  
</pre></div>


</div>
<div style="max-width:350px">
<!-- Можно использовать комментарии
в стиле HTML, чтобы не показывать 
часть текста в обработанной странице -->

<p>Пример Footnote<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup> в тексте. Будет
вынесена вниз страницы.
<!-- Такие штуки надо размещать сразу же: --></p>
<dl>
<dt>Словарь</dt>
<dd>книга, содержащая перечень слов
с пояснениями и толкованиями</dd>
</dl>
<p>пример аббревиатуры: <abbr title="Имею Мнение -- Хрен Оспоришь">ИМХО</abbr>
<!-- Такие штуки тоже надо размещать сразу же: --></p>
<p>Абзац создается разделением
пустыми строками, 
даже если строки абзаца
имеют простые переносы.</p>
<p>Однако, по два пробела<br />
на концах строк делают<br />
перенос строки без абзаца:<br />
<strong>выделение</strong> тегом <strong>strong</strong><br />
<em>выделение</em> тегом <em>emphasize</em><br />
<strong><em>можно</em></strong> оба <strong><em>сразу</em></strong><br />
внутристрочный <code>&lt;h1&gt;блок кода&lt;/h1&gt;</code>  </p>
</div>
</div>

<p>Некоторые символы могут иметь особое значение. Вот пример их использования:
<div markdown="1" class="equi_height">
<div markdown="1"></p>
<div class="highlight"><pre>Использование HTML-тегов:
<span class="c1">&lt;span style=&quot;text-shadow: black</span>
<span class="c1">1px 1px 2px, red 0 0 1em;</span>
<span class="c1">text-transform: uppercase;&quot;&gt;пример&lt;/span&gt;</span>

использование спецсимволов  
(пример): <span class="ss">&amp;copy;</span> <span class="ss">&amp;laquo;&amp;mdash;&amp;raquo;</span>

использование служебных символов:  
&lt; &gt; * [ ] { } ( ) <span class="se">\ </span>_ # + - . !

использование служебных символов  
в сложных случаях: 
&lt;a<span class="se">\&gt;</span> <span class="se">\[</span>a<span class="se">\]\(</span>a<span class="se">\)</span> <span class="se">\`</span>a<span class="se">\`</span> <span class="se">\_</span>a<span class="se">\_</span> #a

<span class="se">\#</span>#a
</pre></div>


</div>

<div>
<p>Использование HTML-тегов:
<span style="text-shadow: black
1px 1px 2px, red 0 0 1em;
text-transform: uppercase;">пример</span></p>
<p>использование спецсимволов<br />
(пример): &copy; &laquo;&mdash;&raquo;</p>
<p>использование служебных символов:<br />
&lt; &gt; * [ ] { } ( ) \ _ # + - . !</p>
<p>использование служебных символов<br />
в сложных случаях: 
&lt;a> [a](a) `a` _a_ #a </p>
<p>##a</p>
</div>
</div>

<p>В общих случаях генератор веб-страниц достаточно умен, чтобы понять, используется угловая скобка для обозначения HTML-тега или сама по себе, в других целях. То же касается и прочих символах, которые могут быть служебными как для HTML, так и для самого Markdown. Также он догадывается, что если <code>#</code> не в начале строки -- то это не заголовок, если скобки [] и () не вплотную друг к другу -- то это не ссылка. В тех же случаях, когда использование таких символов очень уж похоже на служебное, следует подсказать генератору оставить символ в покое при помощи традиционного обратного слэша. Причем, для угловых скобок достаточно закрыть закрывающую (простите за тавтологию, но так уж есть).</p>
<h3 id="_8">Блочная разметка: цитаты и блоки кода</h3>
<p>Под блоками кода подразумеваются блоки предварительно отформатированного текста, которые будут отображаться так, как их напечатали, а не по правилам HTML или Markdown. При этом, в них можно включить подсветку синтаксиса, если это действительно программный код.</p>
<div class="equi_height">
<div markdown="1">

<div class="highlight"><pre><span class="k">&gt; </span>Цитата умного человека -- 
почти афоризм.

или так (то же самое):

<span class="k">&gt; </span>Цитата умного человека -- 
<span class="k">&gt; </span>почти афоризм.

    Отступ в 4 пробела или 1 таб:
    будет окружено тегом &lt;pre&gt;,
    а если включена подсветка -
    то и подсвечено. Можно печатать
    всё: [a](http://a) &lt;html&gt; <span class="k">`</span><span class="sb">ы</span><span class="k">`</span>
    Сделано для блоков кода.

<span class="k">```</span><span class="cp"></span>
<span class="cp">:::c</span>
<span class="cp">void sample_func(int j) {</span>
<span class="cp">    printf(j);</span>
<span class="cp">}</span>

<span class="cp">for (int i = 0; i &lt; 9; i++) {</span>
<span class="cp">    sample_func(i);</span>
<span class="cp">}</span>
<span class="cp">/* </span>
<span class="cp"> * по сути, то же самое, плюс</span>
<span class="cp"> * указание языка для подсветки.</span>
<span class="cp"> * вместо ```` можно </span>
<span class="cp"> * использовать ~~~</span>
<span class="cp"> */</span>
<span class="k">```</span>
</pre></div>


</div>
<div style="max-width:350px">
<blockquote>
<p>Цитата умного 
человека -- 
почти афоризм.</p>
</blockquote>
<p>или так:</p>
<blockquote>
<p>Цитата умного 
человека -- 
почти афоризм.</p>
</blockquote>
<div class="highlight"><pre>Отступ в 4 пробела или 1 таб:
будет окружено тегом &lt;pre&gt;,
а если включена подсветка -
то и подсвечено. Можно печатать
всё: [a](http://a) &lt;html&gt; `ы`
Сделано для блоков кода.
</pre></div>


<div class="highlight"><pre><span class="kt">void</span> <span class="nf">sample_func</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="n">j</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">9</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">sample_func</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="p">}</span>
<span class="cm">/* </span>
<span class="cm"> * по сути, то же самое, плюс</span>
<span class="cm"> * указание языка для подсветки.</span>
<span class="cm"> * вместо ``` можно </span>
<span class="cm"> * использовать ~~~</span>
<span class="cm"> */</span>
</pre></div>


</div>
</div>

<p>Цитаты могут быть вложенными, если угловые скобочки удвоить, разделив пробелом. Кроме того, в цитаты можно вклаывать другие форматированные штучки, типа внутристрочного кода или списков.</p>
<h3 id="_9">Списки</h3>
<div class="equi_height">
<div markdown="1">

<div class="highlight"><pre>Маркированый:

<span class="k">* </span>пункт
<span class="k">* </span>еще пункт

Нумерованый:

<span class="k">1. </span>первый
<span class="k">2. </span>второй

Смешаный:

<span class="k">1. </span>пунктик с подпунктиками
<span class="k">    * </span>4 пробела дают
<span class="k">    + </span>вложенность, а маркеры
<span class="k">    - </span>могут быть разными
<span class="k">3. </span>Цифры тоже неважны,
<span class="k">98. </span>лишь бы цифры.

    Можно сделать абзац
    внутри списка

<span class="k">    * </span>и даже внутри подпункта

        тоже можно сделать абзац.

<span class="k">    * </span>Еще одна вложенность.

<span class="k">7. </span>Надо только не забывать 
отступы и пустые строки.
</pre></div>


</div>
<div>
<p>Маркированый:</p>
<ul>
<li>пункт</li>
<li>еще пункт</li>
</ul>
<p>Нумерованый:</p>
<ol>
<li>первый</li>
<li>второй</li>
</ol>
<p>Смешаный:</p>
<ol>
<li>пунктик с подпунктиками<ul>
<li>4 пробела дают</li>
<li>вложенность, а маркеры</li>
<li>могут быть разными</li>
</ul>
</li>
<li>Цифры тоже неважны,</li>
<li>
<p>лишь бы цифры.</p>
<p>Можно сделать абзац
внутри списка</p>
<ul>
<li>
<p>и даже внутри подпункта</p>
<p>тоже можно сделать абзац.</p>
</li>
<li>
<p>Еще одна вложенность.</p>
</li>
</ul>
</li>
<li>
<p>Надо только не забывать 
отступы и пустые строки.</p>
</li>
</ol>
</div>
</div>

<h3 id="_10">Ссылки, картинки и их комбинация</h3>
<div class="equi_height">
<div markdown="1">

<div class="highlight"><pre>Простая автоматическая ссылка:  
<span class="cp">&lt;http://romeogolf.site&gt;</span>

<span class="cp">Чуть посложнее:</span>
<span class="cp">[Мой сайтик](http://romeogolf.site &quot;Ссылочка&quot;)</span>
</pre></div>


</div>
<div>
<p>Простая автоматическая ссылка:<br />
<a href="http://romeogolf.site">http://romeogolf.site</a></p>
<p>Чуть посложнее:
<a href="http://romeogolf.site" title="Ссылочка">Мой сайтик</a></p>
<p>Ссылочная ссылка:
[Снова мой сайт][id1]</p>
<p>А где-нибудь ниже по тексту надо 
определить ссылку по указанному идентификатору.</p>
</div>
</div>

<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Footnote по-русски -- сноска&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
      <br/>	
      <footer>
          <div>
            <div>Теги:</div>
            <div class="taglist">
              <ul class="tags">
                <li><a href="../tag/pelican.html" class="tag">pelican</a></li>
                <li><a href="../tag/markdown.html" class="tag">Markdown</a></li>
              </ul>
            </div>
          </div>
        <br/>
        <div class="comments">
          <div id="disqus_thread"></div>
          <script type="text/javascript">
            var disqus_identifier = "drafts/pelican-i-ispolzovanie-markdown.html";
            (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                  dsq.src = 'http://romeogolf.disqus.com/embed.js';
                  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                  })();
          </script>
        </div>
      </footer>
    </article>
  </section>
    </div> <!-- content -->
    
  </div> <!-- layout -->

  <div class="footer">
    &copy; 2016 RomeoGolf


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72333148-1', 'auto');
  ga('send', 'pageview');

</script>

<!--    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-72333148-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script> -->
  </div> <!-- footer -->

</body>
</html>