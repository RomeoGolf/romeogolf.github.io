<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Возвращение в Линукс</title>
  <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="stylesheet" href="http://romeogolf.site/theme/css/styles.css" type="text/css" />
  <link rel="stylesheet" type="text/css"  href="http://romeogolf.site/theme/css/pygments.css"/>
  <link rel="shortcut icon" type="image/png" href="http://romeogolf.site/images/RG32.ico" />
  <script language="JavaScript" src="http://romeogolf.site/theme/js/protector.js"></script>
</head>
<body>
  <header class="main-header">
    <div>
      <img src="http://romeogolf.site/images/72.png" style="margin-left: 34px; margin-top: 30px;"> <a id="name" href=http://romeogolf.site id="home-link">RomeoGolf</a>
    </div>
  </header>
    <nav class="nav_base">
      <ul class="main-nav">
          <li class="active"><a href="http://romeogolf.site/category/blog.html">Блог</a></li>
          <li><a href="http://romeogolf.site/category/tvorchestvo.html">Творчество</a></li>


          <li>
            <a href="http://romeogolf.site/pages/triangulum-soft.html">Triangulum Soft</a>
          </li>
          <li>
            <a href="http://romeogolf.site/pages/o-saite.html">О сайте</a>
          </li>
      </ul>
    </nav>
  <div class="layout">

    <div class="sidebar">
      <div class="tagcloud">
        Теги:
        <ul class="tagcloud">
          <li class="tag-4">
            <a href="http://romeogolf.site/tag/batcmd.html">
              bat/cmd
                <span class="badge">1</span>
            </a>
          </li>
          <li class="tag-2">
            <a href="http://romeogolf.site/tag/linux.html">
              linux
                <span class="badge">3</span>
            </a>
          </li>
          <li class="tag-2">
            <a href="http://romeogolf.site/tag/markdown.html">
              markdown
                <span class="badge">2</span>
            </a>
          </li>
          <li class="tag-0">
            <a href="http://romeogolf.site/tag/pelican.html">
              pelican
                <span class="badge">6</span>
            </a>
          </li>
          <li class="tag-4">
            <a href="http://romeogolf.site/tag/rfquiz.html">
              rfquiz
                <span class="badge">1</span>
            </a>
          </li>
          <li class="tag-4">
            <a href="http://romeogolf.site/tag/tar.html">
              tar
                <span class="badge">1</span>
            </a>
          </li>
          <li class="tag-4">
            <a href="http://romeogolf.site/tag/triangulum.html">
              triangulum
                <span class="badge">1</span>
            </a>
          </li>
          <li class="tag-2">
            <a href="http://romeogolf.site/tag/windows.html">
              windows
                <span class="badge">2</span>
            </a>
          </li>
          <li class="tag-4">
            <a href="http://romeogolf.site/tag/raznoe.html">
              разное
                <span class="badge">1</span>
            </a>
          </li>
          <li class="tag-2">
            <a href="http://romeogolf.site/tag/remont.html">
              ремонт
                <span class="badge">2</span>
            </a>
          </li>
          <li class="tag-2">
            <a href="http://romeogolf.site/tag/svoimi-rukami.html">
              своими руками
                <span class="badge">2</span>
            </a>
          </li>
          <li class="tag-2">
            <a href="http://romeogolf.site/tag/stikhi.html">
              стихи
                <span class="badge">2</span>
            </a>
          </li>
        </ul>
      </div> <!-- tagcloud -->
    </div> <!-- sidebar -->

    <div class="content">
  <section class="main-section blog-section" id="blog-posts">
    <h4 class="date">Вт 16 Февраль 2016</h4>
    <article>
      <h1>Возвращение в Линукс</h1>
      
      <p>Я не люблю продукцию компании Microsoft. В особенности, ту ее часть, которая имеет отношение к операционным системам. Не люблю не просто так, за название, а обоснованно, по пунктам. Поэтому уже давно пытаюсь сделать основной операционкой хотя бы дома нечто иное. Ну, то есть, Linux, потому что больше-то и нечего.</p>
<p>Однако, все время что-нибудь складывается не в ту сторону. Ранние давние попытки были сильно ограничены отсутствием нормального интернета (сначала dial-up, потом GPRS, с оплатой по трафику и без вариантов). Не хватало информации, было грустно с репозиториями (дорого), поэтому ставилось то, что удавалось раздобыть на двух &ndash; шести DVD-дисках, чтобы был сразу более-менее приличный комплект программ в наборе. Попробовал в ту пору RedHat (еще до того, как он стал федориным корем), Alt, Linux XP (еще и такое было), ASP и Mandrake. Такой зоопарк в основном потому, что для обновления проще было поставить заново то новое, что удалось раздобыть, чем обновить то, что есть.</p>
<p>Времени отнимало массу, а полностью отказаться от Windows дома не получалось все равно, потому что приходилось часть работы делать дома, а на работе &mdash; Windows, а соответствующий софт в Wine не запускался. Да и документы Word в OpenOffice открывались так себе, а сохранялись в вордовский формат еще хуже, особенно с учетом того, что приходилось работать с чужими творениями, а там и таблицы в таблицах, и подстрочные символы через формулу, и 500 стилей&hellip; Или переделывать все по-человечески дня три, или открыть в Word и за две минуты сделать все, что от меня требуется. </p>
<p>Таким образом, на компьютере две системы, но вторая (при всей нелюбви к первой) не способна заменить первую полностью, а времени и сил на настройку и обслуживание требует больше. Поэтому запускается все реже и реже&hellip;</p>
<p>Потом Linux стал поинтереснее, а работы на дом поменьше. Опять же, появился безлимит по выделенной линии. Второй системой побывали более свежий Alt, Mandriva и (просто посмотреть, что за ерунда такая) Ubuntu. С учетом того, что в Windows у меня используется в основном софт, портированный из Linux, Mandriva загружалась все чаще &mdash; не было особой разницы, в чем работать. Для интернета продукты от Mozilla, обработка фото &mdash; RawTherapee и GIMP, кодинг &mdash; Lazarus, Java (в Eclipce), Python. Простые тексты &mdash; GVim, посложнее &mdash; OOo. С музыкой и кино проблем стало меньше. Практически перестал дома использовать специфические Windows-программы, нужные по работе. Однако, осталась необходимость иногда дома поработать с документами (Word, естественно), а самое неприятное &mdash; фильм-сканер Acer ScanWit 2720, который со свободным софтом завести у меня не получилось никак, а ставить платный не хотелось потому, что не было ни малейшей уверенности, что деньги не будут на ветер. Никто не мог дать гарантии, заработает ли. Максимум, что у меня получилось, &mdash; сканер определился в системе и отреагировал на программную кнопку извлечения лотка. И даже однажды начал Preview, но не смог закончить.</p>
<p>Да, Linux к этому времени стал дружелюбнее и способен заменить винду в существенной части случаев. Но остались трудности в настройке &laquo;под себя&raquo;, неполная совместимость софта, сканер не работает&hellip; Кроме того, был примерно годовой период подготовки и сдачи канд. минимума по английскому, сопровождавшийся чтением приличного объема на английском помимо текстов для подготовки к экзамену. А это - ABBYY Lingvo, честно купленный и используемый на нетбуке с WinXP, поскольку извините, но это лучший словарь в электронном виде. В ту пору они (ABBYY) не собирались даже смотреть в сторону Linux, а то, что было в Linux, было существенно хуже. В общем, опять заглохло. Второй системой остался на тот момент Debian.</p>
<p>И вот в эти выходные и ближайшие к ним пару дней в связи с больничным появилось &laquo;лишнее&raquo; время. Плюс к этому стало еще меньше нужного мне софта, который не имеет аналогов в Linux и не запускается в Wine, пленки существенной частью отсканированы, основной объем переводов-чтения остался позади, а Microsoft с очередной ОС номер десять (которая, что логично, сразу после номера восемь), похоже, совсем края потерял.</p>
<p>Итак, запустил я Debian. Обновил его до восьмерки jessie. И обнаружил, что слетели все примочки для Gnome, которые я ставил когда-то для красоты, удобства и привычности &mdash; типа аналога панели задач. Опять же, iceweesel, который типа Mozilla firefox, только для Debian, стал показывать очень много букв &laquo;ш&raquo; в самых неожиданных местах, короче, нехорошо у него стало с русификацией. Что удивляет после ухода на UTF8, все-таки, уже довольно давно кончился зоопарк кодировок.</p>
<p>Добавил новый репозиторий в список для apt-get, обновил софт. Русский в iceweesel наладился. Добавил заодно в него несколько дополнений.</p>
<p>Поставил pip3, с его помощью &mdash; pelican, markdown. Попробовал в Debian сгенерировать сайт на пеликане, получилось один в один как под виндой, даже проще. Проще &mdash; потому что Python установлен по-человечески, а не как у меня в Windows, и pelican &mdash; это команда безо всяких указаний пути к ней, поэтому <code>pelican content</code> работает в корне проекта сайта без вопросов. И, кстати, сегодняшний сайт собирается в винде около 6 секунд, а в линуксе &mdash; около одной.</p>
<p>Поставил еще Git и cups. Начал заводить принтер, Brother HL2040, и появились первые чудеса. Не печатает, зараза! То есть, настройка через web-интерфейс cups прошла быстро и просто, принтер нашелся практически сам, определился, как готовый, принял все настройки, но пробное задание сперва отправлено, потом завершено, и даже принтер пожужжал, но ничего не напечатал, а задание в списке заданий &laquo;отменено пользователем&raquo;. Начал плясать с правами пользователей на принтер и с правами принтера на пользователей. Запускать печать от имени кого попало и из разных приложений, и из командной строки. Результат один. Страдал дня два.</p>
<p>А потом пришла в голову простая мысль. Хотя принтер и определился, и опознался, и даже какие-то драйвера вроде бы установились, с названием, очень похожим на принтер, но, все-таки, может быть, совершенно случайно, вдруг&hellip; Короче, нашел и скачал PPD-файл для своего принтера и указал в настройках. И заработало! И более того, даже качество печати получше, чем этот же документ, запущенный из-под винды.</p>
<p>А пока возился с принтером, обнаружил еще одну неприятность. Очень неприятную неприятность. Стало зависать. Опытный линуксоид бросит в меня банановой коркой и скажет, что Debian зависнуть не может. Ну хорошо, пусть не может. Но мышь не шевелится, на клавиатуру не реагирует. Что зависло? Как скажет любой непродвинутый пользователь, зависло &laquo;всё&raquo;.</p>
<p>Причем, изредка зависало так, что все же можно было переключиться в tty1. Иногда была реакция только на SysRq, правда, заметная реакция &mdash; только на перезагрузку. А иногда можно было перезагрузиться только аппаратным ресетом.</p>
<p>Погулял по форумам. Обнаружил, что я в этой засаде не одинок, но не видел однозначного решения проблемы. Но одно из самых утоптанных направлений &mdash; видеокарта. Но у меня же интегрированная! Intel i5, и в нем видяха встроенная, для моих целей достаточно, я не геймер, решил при покупке компьютера не переплачивать. Залез в биос, а там написано, что включена PCI-express-видеокарта. Странно&hellip; Переключил на встроенную, перезагрузил &mdash; черный экран. Не понял&hellip; Полез посмотреть (заодно и пропылесосил) &mdash; о-па! А у меня, оказывается, видеокарта! GF240, и вот тут-то я вспомнил, откуда она взялась, ага, была такая оказия нахаляву.</p>
<p>И началась эпопея установки драйверов. Сперва был скачан файл run с официального сайта. Он не запустился, потому что обнаружил запущенные иксы. Хорошо, переключился в терминал, остановил иксы. Тогда run не запустился, потому что не нашел GCC. Странно, вроде было такое&hellip; Попробовал скачать &mdash; не качается, обнаружены битые пакеты в зависимостях. В каких зависимостях - так и не понял. Запустил (после перезагрузки, в иксах) Synaptic, попробовал исправить ошибки в пакетах &mdash; к пакетам нет вопросов. Попробовал поставить GCC &mdash; отмечается не зеленым квадратиком, а красным, говорит, что в зависимостях gcc-4.9, и это, мол, проблема, битые пакеты. Попробовал теперь исправить ошибки в пакетах &mdash; не исправляются.</p>
<p>Нашел в списке системных программ еще какие-то обновления, оказалось, у меня там висят два обновления &mdash; binutils и какие-то утилиты для работы с базами данных Berkley. Обновления почему-то заблокированные, и через это самое приложение не ставятся ни в какую. Установил их через apt-get install, они установились за милую душу. После чего элементарно встал и gcc, вопросы с зависимостями кончились. Похоже, у Synaptic пути к репозиториям отличаются от путей для apt-get, хотя я пытался как-то настраивать&hellip; </p>
<p>Ладно, продолжаем ставить драйвер видеокарты. Опять в терминал, опять останавливаю иксы, запускаю &mdash; теперь ему не нравится gcc, слишком новый. Но можно продолжить без проверки версии. Опять же, этот run сам отключил те видеодрайвера, которые стояли по умолчанию. В результате изображение на экране в иксах стало совсем поганым.</p>
<p>Однако, понадобился kernel-sources. Пакета с таким названием apt-get не знает. Какой фигни я наустанавливал в поисках того, что надо видеодровам&hellip; Но того, что нужно &mdash; не нашел. Зато на форумах нашел, что можно поставить </p>
<div class="highlight"><pre><span class="c1"># aptitude install nvidia-glx nvidia-kernel-`uname -r` nvidia-kernel-dkms nvidia-settings nvidia-xconfig</span>
</pre></div>


<p>где я вместо aptitude сделал apt-get. И все как-то само поставилось и заработало.</p>
<p>Адаптировал vimrc из виндовской версии VIM для линуксовой &mdash; кодировку комментариев и формат конца строки. Можно пробовать обживаться дальше. Посмотрим, на сколько хватит в этот раз.</p>
      <br/>	
      <footer>
          <div>
            <div>Теги:</div>
            <div class="taglist">
              <ul class="tags">
                <li><a href="http://romeogolf.site/tag/linux.html" class="tag">linux</a></li>
              </ul>
            </div>
          </div>
        <br/>
        <div class="comments">
          <div id="disqus_thread"></div>
          <script type="text/javascript">
            var disqus_identifier = "back-to-linux.html";
            (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                  dsq.src = 'http://romeogolf.disqus.com/embed.js';
                  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                  })();
          </script>
          <noscript>
            <div>Для чтения и написания комментариев требуется включить JavaScript.</div>
	  </noscript>
        </div>
      </footer>
    </article>
  </section>
    </div> <!-- content -->
    
  </div> <!-- layout -->

  <div class="footer">
    &copy; 2016 RomeoGolf


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72333148-1', 'auto');
  ga('send', 'pageview');

</script>

<!--    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-72333148-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script> -->
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter35090040 = new Ya.Metrika({
                    id:35090040,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true,
                    webvisor:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/35090040" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
  </div> <!-- footer -->

</body>
</html>